version: "2.0"

rules:

- rule: Khi KH Chao hoi
  conversation_start: true
  steps:
  - intent: greet
  - action: utter_greet

- rule: Khi KH tam biet
  steps:
  - intent: bye
  - action: utter_bye
  wait_for_user_input: false

- rule: Khi KH cam on
  steps:
  - intent: thanks
  - action: utter_thanks
  wait_for_user_input: false

- rule: Khi KH Chat ten san pham
  steps:
  - intent: product_name
  - action: action_answer

- rule: Khi KH yeu cau luu don
  steps:
  - intent: confirm
  - action: action_confirm_order

- rule: Khi KH yeu cau huy don
  steps:
  - intent: unconfirm
  - action: action_reset_slot

- rule: out_of_score
  steps:
  - intent: nlu_fallback
  - action: utter_out_of_scope

- rule: Khi KH hoi muon Dat hang
  steps:
  - intent: order
  - action: action_order_form
  - active_loop: action_order_form

- rule: Khi KH hoan tat Dat hang
  condition:
  - active_loop: action_order_form
  steps:
  - action: action_order_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_submit

- rule: Khi KH hoi Thanh phan
  steps:
  - intent: composition
  - action: action_set_slot_composition
  - action: action_answer

- rule: Khi KH hoi Huong vi
  steps:
  - intent: taste
  - action: action_set_slot_taste
  - action: action_answer
    
- rule: Khi KH hoi Cong dung
  steps:
  - intent: effects
  - action: action_set_slot_effects
  - action: action_answer

- rule: Khi KH hoi Luu y
  steps:
  - intent: contraindications
  - action: action_set_slot_contraindications
  - action: action_answer
    
- rule: Khi KH hoi Huong dan su dung
  steps:
  - intent: user_manual
  - action: action_set_slot_user_manual
  - action: action_answer

- rule: Khi KH hoi Bao quan
  steps:
  - intent: storage
  - action: action_set_slot_storage
  - action: action_answer
    
- rule: Khi KH hoi Xuat su
  steps:
  - intent: made_in
  - action: action_set_slot_made_in
  - action: action_answer

- rule: Khi KH hoi Uu dai
  steps:
  - intent: sale
  - action: action_set_slot_sale
  - action: action_answer
    
- rule: Khi KH hoi gia
  steps:
  - intent: price
  - action: action_set_slot_price
  - action: action_answer

- rule: Khi KH hoi San pham de xuat
  steps:
  - intent: nominations
  - action: action_set_slot_nominations
  - action: action_answer
    
- rule: Khi KH hoi Nhan biet san pham
  steps:
  - intent: recognizing_signs
  - action: action_set_slot_recognizing_signs
  - action: action_answer

- rule: Khi KH hoi Giao hang
  steps:
  - intent: ship
  - action: action_set_slot_ship
  - action: action_answer
    
- rule: Khi KH hoi Doi tuong su dung
  steps:
  - intent: user_object
  - action: action_set_slot_user_object
  - action: action_answer
