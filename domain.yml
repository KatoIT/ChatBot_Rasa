version: '2.0'
config:
  store_entities_as_slots: true
session_config:
  session_expiration_time: 15
  carry_over_slots_to_new_session: true
intents:
  - greet
  - bye
  - confirm
  - unconfirm
  - thanks
  - composition:
      use_entities: false
  - taste:
      use_entities: false
  - effects:
      use_entities: false
  - contraindications:
      use_entities: false
  - user_manual:
      use_entities:
        - age
  - storage:
      use_entities: false
  - made_in:
      use_entities: false
  - sale:
      use_entities: false
  - price:
      use_entities: false
  - nominations:
      use_entities: false
  - recognizing_signs:
      use_entities: false
  - ship:
      use_entities: false
  - user_object:
      use_entities: false
  - year_old:
      use_entities:
        - age
  - advisory:
      use_entities:
        - product_name_en
  - order:
      use_entities:
        - product_name_en
  - customer_name:
      use_entities:
        - name
  - customer_phone_number:
      use_entities:
        - phone
  - product_name:
      use_entities:
        - product_name_en
  - number_of_products:
      use_entities:
        - amount
      ignore_entities:
        - province
        - district
        - ward
  - answer_province:
      use_entities:
        - province
      ignore_entities:
        - district
        - ward
  - answer_district:
      use_entities:
        - district
      ignore_entities:
        - province
        - ward
  - answer_ward:
      use_entities:
        - ward
      ignore_entities:
        - province
        - district
  - nlu_fallback
entities:
  - name
  - phone
  - age
  - product_name_en
  - amount
  - province
  - district
  - ward
slots:
  name:
    type: text
    influence_conversation: true
  age:
    type: text
    influence_conversation: true
  amount:
    type: text
    influence_conversation: true
  phone:
    type: actions.custom_type_sdt.PhoneNumber
    influence_conversation: true
  product_name_en:
    type: categorical
    initial_value: Bánh dinh duỡng Hebi
    influence_conversation: true
    values:
      - product_name_en
  request_counselling:
    type: text
    influence_conversation: true
  province:
    type: categorical
    influence_conversation: true
    values:
      - province
  district:
    type: categorical
    influence_conversation: true
    values:
      - district
  ward:
    type: categorical
    influence_conversation: true
    values:
      - ward
  total:
    type: text
    influence_conversation: true
responses:
  utter_greet:
    - text: Xin chào Shop có thể giúp gì cho bạn?
  utter_bye:
    - text: Bye👋👋
    - text: Xin chào! Hẹn gặp lại👋👋
  utter_thanks:
    - text: Cảm ơn {name} đã quan tâm đến các sản phẩm của Shop!😉
  utter_unconfirm:
    - buttons:
        - payload: /#
          title: Sửa thông tin
        - payload: /#
          title: Xóa đơn
      text: |-
        Bạn cần sửa thông tin nào ạ?
        Hoặc muốn xóa đơn hàng?
  utter_advisory:
    - buttons:
        - payload: /product_name{{"product_name_en":"Bánh dinh duỡng Hebi"}}
          title: Bánh dinh dưỡng Hebi
        - payload: /product_name{{"product_name_en":"Men vi khuẩn sống Việt Nhật"}}
          title: Men vi khuẩn sống Việt Nhật
      text: 'Shop hiện có 2 sản phẩm là:'
  utter_order_details:
    - buttons:
        - payload: /confirm
          title: Đặt hàng
        - payload: /unconfirm
          title: Hủy đơn
      text: |-
        Đơn hàng bạn {name}:
         ☎ SĐT: {phone}
         📦 SP: {product_name_en}
         🖊️ SL: {amount}
         Địa chỉ: {ward}, {district}, {province}
         💵 Tổng tiền: {total} VNĐ
         Vui lòng xác nhận đặt hàng!!
         (Chat: Đồng ý hoặc Hủy đơn)
  utter_ask_age:
    - buttons:
        - payload: /year_old{{"age":"1"}}
          title: Dưới 2 tuổi 👶
        - payload: /year_old{{"age":"3"}}
          title: 2 đến 15 tuổi 👦
        - payload: /year_old{{"age":"20"}}
          title: Trên 15 tuổi 👨
      text: Người dùng ở độ tuổi nào trong 3 lựa chọn?
  utter_ask_name:
    - text: Cho Shop hỏi bạn tên gì?🤔🤔
    - text: Bạn cho Shop xin tên🤔🤔
    - text: Tên của bạn là gì?🤔🤔
  utter_ask_phone:
    - text: ☎ Số điện thoại của bạn là...
    - text: ☎ Cho Shop xin số điện thoại của bạn ạ...
  utter_ask_product_name_en:
    - buttons:
        - payload: /product_name{{"product_name_en":"Bánh dinh duỡng Hebi"}}
          title: Bánh Hebi 🍪
        - payload: /product_name{{"product_name_en":"Men vi khuẩn sống Việt Nhật"}}
          title: Men Việt Nhật 📦
      text: 'Shop có 2 sản phẩm:\n👉Bánh dinh dưỡng Hebi 🍪\n👉Men vi khuẩn sống Việt Nhật 📦\nBạn đang cần sản phẩm nào?'
  utter_ask_amount:
    - text: Bạn {name} mua bao nhiêu sản phẩm {product_name_en} ạ?
  utter_ask_request_counselling:
    - buttons:
        - payload: /price{{"request_counselling":"price"}}
          title: Giá SP
        - payload: /effects{{"request_counselling":"effects"}}
          title: Công dụng SP
      text: Bạn cần biết gì về sản phẩm {product_name_en}?
  utter_nlu_fallback:
    - text: |-
        Xin lỗi! Shop chưa hiểu ý của bạn.
        Vui lòng cho Shop biết chính xác bạn cần gì.
  utter_ask_province:
    - text: Bạn cần giao hàng đến Tỉnh/Thành phố nào?
  utter_ask_district:
    - text: Tên Quận/Huyện?
  utter_ask_ward:
    - text: Tên Phường/Xã?
  utter_list_district:
    - text: 'Các Huyện: {list_district}'
  utter_list_ward:
    - text: 'Các Xã: {list_ward}'
actions:
  - action_answer
  - validate_action_order_form
  - action_submit
  - action_confirm_order
  - action_reset_slot
  - action_set_slot_composition
  - action_set_slot_taste
  - action_set_slot_effects
  - action_set_slot_contraindications
  - action_set_slot_user_manual
  - action_set_slot_storage
  - action_set_slot_made_in
  - action_set_slot_sale
  - action_set_slot_price
  - action_set_slot_nominations
  - action_set_slot_recognizing_signs
  - action_set_slot_ship
  - action_set_slot_user_object
forms:
  action_order_form:
    required_slots:
      phone:
        - type: from_entity
          entity: phone
          intent: customer_phone_number
      name:
        - type: from_entity
          entity: name
          intent: customer_name
      product_name_en:
        - type: from_entity
          entity: product_name_en
      amount:
        - type: from_entity
          entity: amount
          intent: number_of_products
      province:
        - type: from_entity
          entity: province
          intent: answer_province
      district:
        - type: from_entity
          entity: district
          intent: answer_district
      ward:
        - type: from_entity
          entity: ward
          intent: answer_ward
e2e_actions: [ ]
