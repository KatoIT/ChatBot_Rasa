version: "2.0"
# ------------- Intents -------------
intents:
  - greet
  - goodbye
  - thanks
  - bot_challenge
  - ask_name_bot
  - ask_func
  - ask_price
  - ask_user_manual:
      use_entities:
        - age
  - ask_user_object
  - ask_ship
  - ask_effects
  - ask_composition
  - ask_taste
  - ask_contraindications
  - ask_storage
  - ask_made_in
  - ask_recognizing_signs
  - ask_sale
  - ask_nominations
  - nlu_fallback
  - provide_product_name:
      use_entities:
        - product_name
  - ask_reset_slot
  - ask_advise
  - ask_order
  - provide_customer_name
  - provide_customer_phone_number
  - provide_number_of_products
  - provide_province_name
  - provide_district_name
  - provide_ward_name
  - confirm
  - unconfirm
  - ask_edit_order
# ------------- Entities ----------
entities:
  - age
  - product_name
  - customer_name
  - customer_phone_number
  - number_of_products
  - province_name
  - district_name
  - ward_name
# ------------- Slots -------------
slots:
  age:
    type:  float
    min_value: 1.0
    max_value: 999.0
    influence_conversation: false
  product_name:
    type: categorical
    influence_conversation: true
    values:
      - product_name
  request_counselling:
    type: text
    influence_conversation: true
  customer_name:
    type: text
    influence_conversation: true
  number_of_products:
    type: float
    min_value: 1.0
    max_value: 999.0
    influence_conversation: false
  customer_phone_number:
    type: text
    influence_conversation: true
  province_name:
    type: categorical
    influence_conversation: true
    values:
      - province_name
  district_name:
    type: categorical
    influence_conversation: true
    values:
      - district_name
  ward_name:
    type: categorical
    influence_conversation: true
    values:
      - ward_name
  total:
    type: text
    influence_conversation: true
# ------------- Responses -------------
responses:
  utter_greet:
    - text: Xin ch√†o Shop c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?
      image: https://images.discordapp.net/avatars/812061306726645791/2d1a615c46f82ca3e870ef7f4bf35a59.png?size=128

  utter_goodbye:
    - text: üëãGoodbye!
    - text: üëãC·∫£m ∆°n b·∫°n ƒë√£ quan t√¢m ƒë·∫øn c√°c s·∫£n ph·∫©m c·ªßa Shop!
    - text: üëãT·∫°m bi·ªát! Ch√∫c b·∫°n m·ªôt ng√†y t·ªët l√†nh.
  utter_bot_challenge:
    - text: V√¢ng, T√¥i l√† m·ªôt tr·ª£ l√Ω ·∫£o.
  utter_ask_name_bot:
    - text: T√¥i t√™n l√† PAT! T√¥i l√† m·ªôt tr·ª£ l√Ω ·∫£o.
  utter_func:
    - text: |-
        T√¥i c√≥ th·ªÉ:
        - Cung c·∫•p th√¥ng tin v·ªÅ s·∫£n ph·∫©m.
        - T∆∞ v·∫•n v·ªÅ c√°ch d√πng s·∫£n ph·∫©m.
        - H·ªó tr·ª£ ƒë·∫∑t h√†ng.
  utter_ask_age:
    - buttons:
        - payload: /ask_user_manual{{"age":"1 tu·ªïi"}}
          title: D∆∞·ªõi 2 tu·ªïi üë∂
        - payload: /ask_user_manual{{"age":"3 tu·ªïi"}}
          title: 2 ƒë·∫øn 15 tu·ªïi üë¶
        - payload: /ask_user_manual{{"age":"20 tu·ªïi"}}
          title: Tr√™n 15 tu·ªïi üë®
      text: Ng∆∞·ªùi d√πng ·ªü ƒë·ªô tu·ªïi n√†o trong 3 l·ª±a ch·ªçn?
  utter_ask_request_counselling:
    - text: B·∫°n c·∫ßn bi·∫øt g√¨ v·ªÅ s·∫£n ph·∫©m {product_name}?
      quick_replies:
        - title: Gi√°
          payload: /ask_price
        - title: C√¥ng d·ª•ng
          payload: /ask_effects
        - title: C√°ch d√πng
          payload: /ask_user_manual
        - title: D√πng cho ai
          payload: /ask_user_object
        - title: Th√†nh ph·∫ßn
          payload: /ask_composition
        - title: H∆∞∆°ng v·ªã
          payload: /ask_taste
        - title: H·∫°n d√πng
          payload: /ask_storage
        - title: Xu·∫•t s∆∞
          payload: /ask_made_in
        - title: Nh·∫≠n bi·∫øt
          payload: /ask_recognizing_signs
        - title: Gi·∫£m gi√°
          payload: /ask_sale
        - title: Giao h√†ng
          payload: /ask_ship
  utter_nlu_fallback:
    - text: Xin l·ªói, t√¥i kh√¥ng hi·ªÉu. B·∫°n c√≥ th·ªÉ di·ªÖn ƒë·∫°t l·∫°i kh√¥ng?
  utter_default:
    - text: Xin l·ªói, t√¥i ch∆∞a hi·ªÉu √Ω b·∫°n. B·∫°n c√≥ th·ªÉ di·ªÖn ƒë·∫°t l·∫°i kh√¥ng?
  utter_ask_product_name:
    - text: 'Vui l√≤ng ch·ªçn s·∫£n ph·∫©m!'
      elements:
        - title: B√°nh dinh du·ª°ng Hebi
          image_url: https://github.com/KatoIT/ChatBot_Rasa/blob/An/Image/BanhHebi.jpg?raw=true
          buttons: # note the button limit still applies here
            - payload: '/provide_product_name{"product_name": "B√°nh dinh d∆∞·ª°ng Hebi"}'
              title: B√°nh Hebi
        - title: Men vi khu·∫©n s·ªëng Vi·ªát Nh·∫≠t
          image_url: https://github.com/KatoIT/ChatBot_Rasa/blob/An/Image/MenVKSVietNhat.jpg?raw=true
          buttons:
            - payload: '/provide_product_name{"product_name": "Men vi khu·∫©n s·ªëng Vi·ªát Nh·∫≠t"}'
              title: Men Vi·ªát Nh·∫≠t
  utter_ask_customer_phone_number:
    - text: ‚òé S·ªë ƒëi·ªán tho·∫°i c·ªßa b·∫°n l√†...
      quick_replies:
        - content_type: user_phone_number
          title:
          payload: /provide_customer_phone_number
    - text: ‚òé Cho Shop xin s·ªë ƒëi·ªán tho·∫°i c·ªßa b·∫°n ·∫°...
      quick_replies:
        - content_type: user_phone_number
          title:
          payload: /provide_customer_phone_number
  utter_ask_customer_name:
    - text: Cho Shop h·ªèi b·∫°n t√™n g√¨?ü§îü§î
    - text: B·∫°n cho Shop xin t√™nü§îü§î
    - text: T√™n c·ªßa b·∫°n l√† g√¨?ü§îü§î
  utter_ask_number_of_products:
    - text: B·∫°n {customer_name} mua bao nhi√™u s·∫£n ph·∫©m {product_name} ·∫°?
  utter_ask_province_name:
    - text: B·∫°n c·∫ßn giao h√†ng ƒë·∫øn T·ªânh/Th√†nh ph·ªë n√†o?
      quick_replies:
        - content_type: location
          title:
          payload: /
  utter_ask_district_name:
    - text: T√™n Qu·∫≠n/Huy·ªán?
  utter_ask_ward_name:
    - text: T√™n Ph∆∞·ªùng/X√£?
  utter_list_district_name:
    - text: 'C√°c Huy·ªán: {list_district}'
  utter_list_ward_name:
    - text: 'C√°c X√£: {list_ward}'
  utter_order_details:
    - buttons:
        - payload: /confirm
          title: ƒê·∫∑t h√†ng
        - payload: /ask_edit_order
          title: S·ª≠a th√¥ng tin
        - payload: /unconfirm
          title: H·ªßy ƒë∆°n
      text: |-
        ƒê∆°n h√†ng b·∫°n {customer_name}:
         ‚òé SƒêT: {customer_phone_number}
         üì¶ SP: {product_name}
         üñäÔ∏è SL: {number_of_products}
         ƒê·ªãa ch·ªâ: {ward_name}, {district_name}, {province_name}
         üíµ T·ªïng ti·ªÅn: {total} VNƒê
         Vui l√≤ng x√°c nh·∫≠n ƒë·∫∑t h√†ng!!
         (Chat: ƒê·ªìng √Ω ho·∫∑c H·ªßy ƒë∆°n)
  utter_order_cancellation:
    - text: B·∫°n ƒë√£ Hu·ª∑ b·ªè ƒë∆°n h√†ng!
# --------------- Actions -------------------
actions:
  - validate_customer_order_form
  - action_submit
  - action_confirm_order
  - action_reset_slot
  - action_answer
  - action_set_slot_composition
  - action_set_slot_taste
  - action_set_slot_effects
  - action_set_slot_contraindications
  - action_set_slot_user_manual
  - action_set_slot_storage
  - action_set_slot_made_in
  - action_set_slot_sale
  - action_set_slot_price
  - action_set_slot_nominations
  - action_set_slot_recognizing_signs
  - action_set_slot_ship
  - action_set_slot_user_object
# ------------- Forms -------------
forms:
  customer_order_form:
    required_slots:
      customer_phone_number:
        - type: from_entity
          entity: customer_phone_number
          intent: provide_customer_phone_number
      customer_name:
        - type: from_entity
          entity: customer_name
          intent: provide_customer_name
      product_name:
        - type: from_entity
          entity: product_name
      number_of_products:
        - type: from_entity
          entity: number_of_products
          intent: provide_number_of_products
      province_name:
        - type: from_entity
          entity: province_name
          intent: provide_province_name
      district_name:
        - type: from_entity
          entity: district_name
          intent: provide_district_name
      ward_name:
        - type: from_entity
          entity: ward_name
          intent: provide_ward_name

# ------------- Session config -------------
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
